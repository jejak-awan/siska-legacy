import{p as C,q as V,e as H,c as l,s as m,o as i,f as t,v as ot,x as k,j as $,z as M,F as E,k as L,t as d,y as B,l as O,E as _,C as T,G as at,a as P,b as F,d as I,m as rt}from"./index-Bo0LgBjO.js";const nt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},it={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},lt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},dt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ut={class:"space-y-4"},ct=["value"],mt={key:0,class:"mt-1 text-sm text-red-600"},pt={key:0,class:"mt-1 text-sm text-red-600"},gt={key:0,class:"mt-1 text-sm text-red-600"},ft={key:0,class:"mt-1 text-sm text-red-600"},xt={key:0,class:"mt-1 text-sm text-red-600"},bt={key:0,class:"mt-1 text-sm text-red-600"},yt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},vt=["disabled"],wt={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},ht={__name:"NotificationFormModal",props:{show:{type:Boolean,default:!1}},emits:["close","saved"],setup(p,{emit:S}){const w=S,v=C(!1),b=C([]),g=C({}),f=V({user_ids:[],judul:"",pesan:"",tipe:"",action_url:"",action_text:""}),D=async()=>{try{const h=await _.get("/users");b.value=h.data.data.data}catch(h){console.error("Error loading users:",h)}},j=()=>{Object.assign(f,{user_ids:[],judul:"",pesan:"",tipe:"",action_url:"",action_text:""}),g.value={}},y=async()=>{var h;v.value=!0,g.value={};try{const o={...f};Object.keys(o).forEach(r=>{o[r]===""&&(o[r]=null)}),await _.post("/notifications/send-to-users",o),w("saved")}catch(o){((h=o.response)==null?void 0:h.status)===422?g.value=o.response.data.errors:console.error("Error sending notification:",o)}finally{v.value=!1}},u=()=>{j(),w("close")};return H(()=>{D()}),(h,o)=>p.show?(i(),l("div",nt,[t("div",it,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:u}),t("div",lt,[t("form",{onSubmit:ot(y,["prevent"])},[t("div",dt,[t("div",{class:"flex items-center justify-between mb-4"},[o[7]||(o[7]=t("h3",{class:"text-lg font-medium text-gray-900"},"Kirim Notifikasi",-1)),t("button",{type:"button",onClick:u,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...o[6]||(o[6]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",ut,[t("div",null,[o[8]||(o[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[$(" Penerima "),t("span",{class:"text-red-500"},"*")],-1)),k(t("select",{"onUpdate:modelValue":o[0]||(o[0]=r=>f.user_ids=r),multiple:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},[(i(!0),l(E,null,L(b.value,r=>(i(),l("option",{key:r.id,value:r.id},d(r.username)+" ("+d(r.email)+") ",9,ct))),128))],512),[[M,f.user_ids]]),g.value.user_ids?(i(),l("p",mt,d(g.value.user_ids[0]),1)):m("",!0),o[9]||(o[9]=t("p",{class:"mt-1 text-sm text-gray-500"},"Gunakan Ctrl/Cmd untuk memilih multiple user",-1))]),t("div",null,[o[10]||(o[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[$(" Judul "),t("span",{class:"text-red-500"},"*")],-1)),k(t("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>f.judul=r),type:"text",placeholder:"Judul notifikasi",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[B,f.judul]]),g.value.judul?(i(),l("p",pt,d(g.value.judul[0]),1)):m("",!0)]),t("div",null,[o[11]||(o[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[$(" Pesan "),t("span",{class:"text-red-500"},"*")],-1)),k(t("textarea",{"onUpdate:modelValue":o[2]||(o[2]=r=>f.pesan=r),rows:"3",placeholder:"Isi pesan notifikasi...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[B,f.pesan]]),g.value.pesan?(i(),l("p",gt,d(g.value.pesan[0]),1)):m("",!0)]),t("div",null,[o[13]||(o[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[$(" Tipe "),t("span",{class:"text-red-500"},"*")],-1)),k(t("select",{"onUpdate:modelValue":o[3]||(o[3]=r=>f.tipe=r),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},[...o[12]||(o[12]=[O('<option value="">Pilih Tipe</option><option value="info">Informasi</option><option value="warning">Peringatan</option><option value="error">Error</option><option value="success">Berhasil</option>',5)])],512),[[M,f.tipe]]),g.value.tipe?(i(),l("p",ft,d(g.value.tipe[0]),1)):m("",!0)]),t("div",null,[o[14]||(o[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"URL Aksi",-1)),k(t("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>f.action_url=r),type:"url",placeholder:"https://example.com/action",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[B,f.action_url]]),g.value.action_url?(i(),l("p",xt,d(g.value.action_url[0]),1)):m("",!0)]),t("div",null,[o[15]||(o[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Teks Tombol Aksi",-1)),k(t("input",{"onUpdate:modelValue":o[5]||(o[5]=r=>f.action_text=r),type:"text",placeholder:"Lihat Detail",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[B,f.action_text]]),g.value.action_text?(i(),l("p",bt,d(g.value.action_text[0]),1)):m("",!0)])])]),t("div",yt,[t("button",{type:"submit",disabled:v.value,class:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[v.value?(i(),l("span",wt)):m("",!0),o[16]||(o[16]=$(" Kirim ",-1))],8,vt),t("button",{type:"button",onClick:u,class:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Batal ")])],32)])])])):m("",!0)}},kt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},_t={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},$t={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ct={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},jt={key:0,class:"space-y-4"},Dt={class:"flex space-x-4"},Bt={class:"mt-1 text-sm text-gray-900"},St={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Mt={key:0},Tt={class:"mt-1"},Nt=["href"],At={class:"grid grid-cols-2 gap-4 text-sm"},Vt={class:"text-gray-900"},Et={key:0},Lt={class:"text-gray-900"},Ut={key:1,class:"bg-gray-50 rounded-lg p-4"},zt={class:"mt-1 text-sm text-gray-900 overflow-x-auto"},Pt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ft=["disabled"],It={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Ht=["disabled"],Ot={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Rt=["disabled"],qt={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Jt={__name:"NotificationDetailModal",props:{show:{type:Boolean,default:!1},notification:{type:Object,default:null}},emits:["close","updated"],setup(p,{emit:S}){const w=p,v=S,b=C(!1),g=async()=>{if(w.notification){b.value=!0;try{await _.post(`/notifications/${w.notification.id}/mark-read`),v("updated")}catch(c){console.error("Error marking notification as read:",c)}finally{b.value=!1}}},f=async()=>{if(w.notification){b.value=!0;try{await _.post(`/notifications/${w.notification.id}/mark-archived`),v("updated")}catch(c){console.error("Error marking notification as archived:",c)}finally{b.value=!1}}},D=async()=>{if(w.notification&&confirm("Apakah Anda yakin ingin menghapus notifikasi ini?")){b.value=!0;try{await _.delete(`/notifications/${w.notification.id}`),v("updated")}catch(c){console.error("Error deleting notification:",c)}finally{b.value=!1}}},j=()=>{v("close")},y=c=>new Date(c).toLocaleString("id-ID"),u=c=>({unread:"Belum Dibaca",read:"Sudah Dibaca",archived:"Diarsipkan"})[c]||c,h=c=>({unread:"bg-yellow-100 text-yellow-800",read:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"})[c]||"bg-gray-100 text-gray-800",o=c=>({info:"Informasi",warning:"Peringatan",error:"Error",success:"Berhasil"})[c]||c,r=c=>({info:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",success:"bg-green-100 text-green-800"})[c]||"bg-gray-100 text-gray-800";return(c,n)=>{var N,A;return p.show?(i(),l("div",kt,[t("div",_t,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:j}),t("div",$t,[t("div",null,[t("div",Ct,[t("div",{class:"flex items-center justify-between mb-4"},[n[1]||(n[1]=t("h3",{class:"text-lg font-medium text-gray-900"},"Detail Notifikasi",-1)),t("button",{type:"button",onClick:j,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...n[0]||(n[0]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),p.notification?(i(),l("div",jt,[t("div",Dt,[t("div",null,[n[2]||(n[2]=t("span",{class:"text-sm font-medium text-gray-700"},"Status:",-1)),t("span",{class:T([h(p.notification.status),"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},d(u(p.notification.status)),3)]),t("div",null,[n[3]||(n[3]=t("span",{class:"text-sm font-medium text-gray-700"},"Tipe:",-1)),t("span",{class:T([r(p.notification.tipe),"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},d(o(p.notification.tipe)),3)])]),t("div",null,[n[4]||(n[4]=t("span",{class:"text-sm font-medium text-gray-700"},"Judul:",-1)),t("p",Bt,d(p.notification.judul),1)]),t("div",null,[n[5]||(n[5]=t("span",{class:"text-sm font-medium text-gray-700"},"Pesan:",-1)),t("p",St,d(p.notification.pesan),1)]),p.notification.action_url&&p.notification.action_text?(i(),l("div",Mt,[n[7]||(n[7]=t("span",{class:"text-sm font-medium text-gray-700"},"Aksi:",-1)),t("div",Tt,[t("a",{href:p.notification.action_url,target:"_blank",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[$(d(p.notification.action_text)+" ",1),n[6]||(n[6]=t("svg",{class:"ml-2 -mr-0.5 h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"})],-1))],8,Nt)])])):m("",!0),t("div",At,[t("div",null,[n[8]||(n[8]=t("span",{class:"font-medium text-gray-700"},"Dibuat:",-1)),t("p",Vt,d(y(p.notification.created_at)),1)]),p.notification.read_at?(i(),l("div",Et,[n[9]||(n[9]=t("span",{class:"font-medium text-gray-700"},"Dibaca:",-1)),t("p",Lt,d(y(p.notification.read_at)),1)])):m("",!0)]),p.notification.data?(i(),l("div",Ut,[n[10]||(n[10]=t("span",{class:"text-sm font-medium text-gray-700"},"Data Tambahan:",-1)),t("pre",zt,d(JSON.stringify(p.notification.data,null,2)),1)])):m("",!0)])):m("",!0)]),t("div",Pt,[((N=p.notification)==null?void 0:N.status)==="unread"?(i(),l("button",{key:0,onClick:g,disabled:b.value,class:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[b.value?(i(),l("span",It)):m("",!0),n[11]||(n[11]=$(" Tandai Dibaca ",-1))],8,Ft)):m("",!0),((A=p.notification)==null?void 0:A.status)==="read"?(i(),l("button",{key:1,onClick:f,disabled:b.value,class:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[b.value?(i(),l("span",Ot)):m("",!0),n[12]||(n[12]=$(" Arsipkan ",-1))],8,Ht)):m("",!0),t("button",{onClick:D,disabled:b.value,class:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[b.value?(i(),l("span",qt)):m("",!0),n[13]||(n[13]=$(" Hapus ",-1))],8,Rt),t("button",{type:"button",onClick:j,class:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Tutup ")])])])])])):m("",!0)}}},Kt={class:"py-6"},Gt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Qt={class:"mb-8"},Wt={class:"flex items-center justify-between"},Xt={class:"flex space-x-3"},Yt=["disabled"],Zt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},te={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ee={class:"flex items-center"},se={class:"ml-4"},oe={class:"text-2xl font-semibold text-gray-900"},ae={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},re={class:"flex items-center"},ne={class:"ml-4"},ie={class:"text-2xl font-semibold text-gray-900"},le={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},de={class:"flex items-center"},ue={class:"ml-4"},ce={class:"text-2xl font-semibold text-gray-900"},me={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},pe={class:"flex items-center"},ge={class:"ml-4"},fe={class:"text-2xl font-semibold text-gray-900"},xe={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6"},be={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ye={class:"relative"},ve={class:"bg-white rounded-xl shadow-sm border border-gray-200"},we={class:"p-6"},he={class:"flex items-center justify-between mb-6"},ke={class:"text-sm text-gray-500"},_e={class:"flex items-center space-x-3"},$e={key:0,class:"flex justify-center py-8"},Ce={key:1,class:"overflow-x-auto"},je={class:"min-w-full divide-y divide-gray-200"},De={class:"bg-white divide-y divide-gray-200"},Be={class:"px-6 py-4 whitespace-nowrap"},Se={class:"px-6 py-4 whitespace-nowrap"},Me={class:"px-6 py-4 whitespace-nowrap"},Te={class:"text-sm font-medium text-gray-900"},Ne={class:"px-6 py-4"},Ae={class:"text-sm text-gray-900 max-w-xs truncate"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Le={class:"flex space-x-2"},Ue=["onClick"],ze=["onClick"],Pe=["onClick"],Fe=["onClick"],Ie={key:0,class:"text-center py-8"},He={key:2,class:"mt-6 flex items-center justify-between"},Oe={class:"text-sm text-gray-700"},Re={class:"flex space-x-2"},qe=["disabled"],Je=["onClick"],Ke=["disabled"],Qe={__name:"NotificationView",setup(p){rt();const S=at(),w=(a,e)=>{let s;return function(...et){const st=()=>{clearTimeout(s),a(...et)};clearTimeout(s),s=setTimeout(st,e)}},v=C(!1),b=C([]),g=C({}),f=C(!1),D=C(!1),j=C(null),y=V({search:"",status:"",tipe:"",start_date:"",end_date:""}),u=V({current_page:1,last_page:1,per_page:15,total:0,from:0,to:0}),h=P(()=>{var a;return((a=S.user)==null?void 0:a.role_type)==="admin"}),o=P(()=>{const a=[],e=u.current_page,s=u.last_page;if(s<=7)for(let x=1;x<=s;x++)a.push(x);else if(e<=4){for(let x=1;x<=5;x++)a.push(x);a.push("..."),a.push(s)}else if(e>=s-3){a.push(1),a.push("...");for(let x=s-4;x<=s;x++)a.push(x)}else{a.push(1),a.push("...");for(let x=e-1;x<=e+1;x++)a.push(x);a.push("..."),a.push(s)}return a}),r=async(a=1)=>{v.value=!0;try{const e={page:a,per_page:u.per_page,...y},s=await _.get("/notifications",{params:e});b.value=s.data.data.data,Object.assign(u,s.data.data)}catch(e){console.error("Error loading notification data:",e)}finally{v.value=!1}},c=async()=>{try{const a=await _.get("/notifications/stats");g.value=a.data.data}catch(a){console.error("Error loading statistics:",a)}},n=w(()=>{r(1)},500),N=()=>{Object.assign(y,{search:"",status:"",tipe:"",start_date:"",end_date:""}),r(1)},A=a=>{j.value=a,D.value=!0},R=async a=>{try{await _.post(`/notifications/${a.id}/mark-read`),await r(u.current_page),await c()}catch(e){console.error("Error marking notification as read:",e)}},q=async a=>{try{await _.post(`/notifications/${a.id}/mark-archived`),await r(u.current_page),await c()}catch(e){console.error("Error marking notification as archived:",e)}},J=async()=>{try{await _.post("/notifications/mark-all-read"),await r(u.current_page),await c()}catch(a){console.error("Error marking all notifications as read:",a)}},K=async a=>{if(confirm("Apakah Anda yakin ingin menghapus notifikasi ini?"))try{await _.delete(`/notifications/${a}`),await r(u.current_page),await c()}catch(e){console.error("Error deleting notification:",e)}},U=()=>{f.value=!1},z=()=>{D.value=!1,j.value=null},G=()=>{U(),r(u.current_page),c()},Q=()=>{z(),r(u.current_page),c()},W=a=>new Date(a).toLocaleDateString("id-ID"),X=a=>({unread:"Belum Dibaca",read:"Sudah Dibaca",archived:"Diarsipkan"})[a]||a,Y=a=>({unread:"bg-yellow-100 text-yellow-800",read:"bg-green-100 text-green-800",archived:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800",Z=a=>({info:"Informasi",warning:"Peringatan",error:"Error",success:"Berhasil"})[a]||a,tt=a=>({info:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",success:"bg-green-100 text-green-800"})[a]||"bg-gray-100 text-gray-800";return H(()=>{r(),c()}),(a,e)=>(i(),l("div",Kt,[t("div",Gt,[t("div",Qt,[t("div",Wt,[e[11]||(e[11]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Notifikasi"),t("p",{class:"mt-2 text-lg text-gray-600"},"Kelola notifikasi sistem kesiswaan"),t("p",{class:"text-sm text-gray-500"},"Monitor dan kelola semua notifikasi pengguna")],-1)),t("div",Xt,[t("button",{onClick:J,disabled:v.value,class:"flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors disabled:opacity-50"},[...e[9]||(e[9]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),$(" Tandai Semua Dibaca ",-1)])],8,Yt),h.value?(i(),l("button",{key:0,onClick:e[0]||(e[0]=s=>f.value=!0),class:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},[...e[10]||(e[10]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),$(" Kirim Notifikasi ",-1)])])):m("",!0)])])]),t("div",Zt,[t("div",te,[t("div",ee,[e[13]||(e[13]=t("div",{class:"p-3 bg-blue-100 rounded-lg"},[t("svg",{class:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12.828 7H4.828z"})])],-1)),t("div",se,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Notifikasi",-1)),t("p",oe,d(g.value.total||0),1)])])]),t("div",ae,[t("div",re,[e[15]||(e[15]=t("div",{class:"p-3 bg-yellow-100 rounded-lg"},[t("svg",{class:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t("div",ne,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-gray-600"},"Belum Dibaca",-1)),t("p",ie,d(g.value.unread||0),1)])])]),t("div",le,[t("div",de,[e[17]||(e[17]=t("div",{class:"p-3 bg-green-100 rounded-lg"},[t("svg",{class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",ue,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-gray-600"},"Sudah Dibaca",-1)),t("p",ce,d(g.value.read||0),1)])])]),t("div",me,[t("div",pe,[e[19]||(e[19]=t("div",{class:"p-3 bg-gray-100 rounded-lg"},[t("svg",{class:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8l6 6m0 0l6-6m-6 6V4"})])],-1)),t("div",ge,[e[18]||(e[18]=t("p",{class:"text-sm font-medium text-gray-600"},"Diarsipkan",-1)),t("p",fe,d(g.value.archived||0),1)])])])]),t("div",xe,[t("div",{class:"flex items-center justify-between mb-4"},[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Filter & Pencarian",-1)),t("button",{onClick:N,class:"text-sm text-blue-600 hover:text-blue-700 font-medium"}," Reset Filter ")]),t("div",be,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari",-1)),t("div",ye,[k(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>y.search=s),type:"text",placeholder:"Cari judul atau pesan...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onInput:e[2]||(e[2]=(...s)=>I(n)&&I(n)(...s))},null,544),[[B,y.search]]),e[21]||(e[21]=t("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),k(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>y.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:r},[...e[23]||(e[23]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"unread"},"Belum Dibaca",-1),t("option",{value:"read"},"Sudah Dibaca",-1),t("option",{value:"archived"},"Diarsipkan",-1)])],544),[[M,y.status]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipe",-1)),k(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>y.tipe=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:r},[...e[25]||(e[25]=[O('<option value="">Semua Tipe</option><option value="info">Informasi</option><option value="warning">Peringatan</option><option value="error">Error</option><option value="success">Berhasil</option>',5)])],544),[[M,y.tipe]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tanggal Mulai",-1)),k(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>y.start_date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:r},null,544),[[B,y.start_date]])])])]),t("div",ve,[t("div",we,[t("div",he,[t("div",null,[e[28]||(e[28]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Data Notifikasi",-1)),t("p",ke,"Total "+d(u.total)+" notifikasi",1)]),t("div",_e,[e[30]||(e[30]=t("span",{class:"text-sm text-gray-500"},"Per halaman:",-1)),k(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>u.per_page=s),onChange:r,class:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...e[29]||(e[29]=[t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1)])],544),[[M,u.per_page]])])]),v.value?(i(),l("div",$e,[...e[31]||(e[31]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(i(),l("div",Ce,[t("table",je,[e[32]||(e[32]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipe "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Judul "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Pesan "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tanggal "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Aksi ")])],-1)),t("tbody",De,[(i(!0),l(E,null,L(b.value,s=>(i(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Be,[t("span",{class:T([Y(s.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},d(X(s.status)),3)]),t("td",Se,[t("span",{class:T([tt(s.tipe),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},d(Z(s.tipe)),3)]),t("td",Me,[t("div",Te,d(s.judul),1)]),t("td",Ne,[t("div",Ae,d(s.pesan),1)]),t("td",Ve,d(W(s.created_at)),1),t("td",Ee,[t("div",Le,[t("button",{onClick:x=>A(s),class:"text-blue-600 hover:text-blue-900 transition-colors"}," Lihat ",8,Ue),s.status==="unread"?(i(),l("button",{key:0,onClick:x=>R(s),class:"text-green-600 hover:text-green-900 transition-colors"}," Tandai Dibaca ",8,ze)):m("",!0),s.status==="read"?(i(),l("button",{key:1,onClick:x=>q(s),class:"text-gray-600 hover:text-gray-900 transition-colors"}," Arsipkan ",8,Pe)):m("",!0),t("button",{onClick:x=>K(s.id),class:"text-red-600 hover:text-red-900 transition-colors"}," Hapus ",8,Fe)])])]))),128))])]),b.value.length===0?(i(),l("div",Ie,[...e[33]||(e[33]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12.828 7H4.828z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tidak ada notifikasi",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Belum ada notifikasi yang tersedia.",-1)])])):m("",!0)])),u.last_page>1?(i(),l("div",He,[t("div",Oe," Menampilkan "+d(u.from)+" sampai "+d(u.to)+" dari "+d(u.total)+" data ",1),t("div",Re,[t("button",{onClick:e[7]||(e[7]=s=>r(u.current_page-1)),disabled:u.current_page===1,class:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"}," Sebelumnya ",8,qe),(i(!0),l(E,null,L(o.value,s=>(i(),l("button",{key:s,onClick:x=>r(s),class:T(["px-3 py-1 border rounded text-sm",s===u.current_page?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"])},d(s),11,Je))),128)),t("button",{onClick:e[8]||(e[8]=s=>r(u.current_page+1)),disabled:u.current_page===u.last_page,class:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"}," Selanjutnya ",8,Ke)])])):m("",!0)])]),f.value?(i(),F(ht,{key:0,show:f.value,onClose:U,onSaved:G},null,8,["show"])):m("",!0),D.value?(i(),F(Jt,{key:1,show:D.value,notification:j.value,onClose:z,onUpdated:Q},null,8,["show","notification"])):m("",!0)])]))}};export{Qe as default};
