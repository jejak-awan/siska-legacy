import{O as _,p as c,a as d,c as m,o as g,r as p}from"./index-Bo0LgBjO.js";const G=_("public",()=>{const n=c([]),i=c([]),l=c([]),s=c([]),r=c(!1),u=c(null),v=d(()=>n.value.filter(e=>e.is_featured).slice(0,3)),f=d(()=>i.value.filter(e=>e.is_featured).slice(0,3)),h=d(()=>l.value.filter(e=>e.is_featured).slice(0,3)),w=d(()=>({posts:{total:n.value.length,published:n.value.filter(e=>e.status==="published").length,draft:n.value.filter(e=>e.status==="draft").length},activities:{total:i.value.length,upcoming:i.value.filter(e=>new Date(e.date)>new Date).length,completed:i.value.filter(e=>new Date(e.date)<new Date).length},programs:{total:l.value.length,active:l.value.filter(e=>e.status==="active").length,completed:l.value.filter(e=>e.status==="completed").length}}));return{posts:n,activities:i,programs:l,images:s,loading:r,error:u,featuredPosts:v,featuredActivities:f,featuredPrograms:h,stats:w,fetchFeaturedContent:async()=>{try{r.value=!0,u.value=null,await new Promise(e=>setTimeout(e,1e3)),n.value=[{id:1,title:"Pembukaan Tahun Ajaran Baru 2024/2025",excerpt:"Selamat datang di tahun ajaran baru dengan berbagai program unggulan...",content:"<p>Konten lengkap...</p>",category:"pengumuman",status:"published",featured_image:null,is_featured:!0,author:{username:"admin"},created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z",published_at:"2024-01-15T10:00:00Z"}],i.value=[{id:1,title:"Kegiatan OSIS Bulan Januari",description:"Berbagai kegiatan menarik dari OSIS untuk bulan ini...",activity_date:"2024-01-20T09:00:00Z",location:"Aula Sekolah",category:"osis",is_featured:!0,created_at:"2024-01-14T14:30:00Z"}],l.value=[{id:1,name:"Program Beasiswa Prestasi",description:"Program beasiswa untuk siswa berprestasi di berbagai bidang...",status:"active",category:"beasiswa",completion_percentage:75,is_featured:!0,created_at:"2024-01-13T09:15:00Z"}]}catch(e){u.value="Gagal memuat konten publik",console.error("Fetch featured content error:",e)}finally{r.value=!1}},fetchStats:async()=>{try{r.value=!0,u.value=null,await new Promise(e=>setTimeout(e,500)),console.log("Stats fetched successfully")}catch(e){u.value="Gagal memuat statistik",console.error("Fetch stats error:",e)}finally{r.value=!1}},fetchAllPublicContent:async()=>{try{r.value=!0,u.value=null,await new Promise(e=>setTimeout(e,1e3)),n.value=[{id:1,title:"Pembukaan Tahun Ajaran Baru 2024/2025",excerpt:"Selamat datang di tahun ajaran baru dengan berbagai program unggulan...",content:"<p>Konten lengkap...</p>",category:"pengumuman",status:"published",featured_image:null,is_featured:!0,author:{username:"admin"},created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"}],i.value=[{id:1,title:"Kegiatan OSIS Bulan Januari",description:"Berbagai kegiatan menarik dari OSIS untuk bulan ini...",date:"2024-01-20T09:00:00Z",location:"Aula Sekolah",is_featured:!0,created_at:"2024-01-14T14:30:00Z"}],l.value=[{id:1,name:"Program Beasiswa Prestasi",description:"Program beasiswa untuk siswa berprestasi di berbagai bidang...",status:"active",is_featured:!0,created_at:"2024-01-13T09:15:00Z"}],s.value=[{id:1,title:"Upacara Bendera",description:"Upacara bendera setiap hari Senin",url:"https://via.placeholder.com/400x300/3B82F6/FFFFFF?text=Upacara+Bendera",category:"kegiatan",file_size:1024e3,created_at:"2024-01-15T10:00:00Z"}]}catch(e){u.value="Gagal memuat konten publik",console.error("Fetch public content error:",e)}finally{r.value=!1}},createPost:async e=>{try{r.value=!0,await new Promise(a=>setTimeout(a,1e3));const t={id:Date.now(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return n.value.unshift(t),t}catch(t){throw u.value="Gagal membuat post",t}finally{r.value=!1}},updatePost:async(e,t)=>{try{r.value=!0,await new Promise(o=>setTimeout(o,1e3));const a=n.value.findIndex(o=>o.id===e);if(a>-1)return n.value[a]={...n.value[a],...t,updated_at:new Date().toISOString()},n.value[a];throw new Error("Post tidak ditemukan")}catch(a){throw u.value="Gagal memperbarui post",a}finally{r.value=!1}},deletePost:async e=>{try{r.value=!0,await new Promise(a=>setTimeout(a,1e3));const t=n.value.findIndex(a=>a.id===e);if(t>-1)return n.value.splice(t,1),!0;throw new Error("Post tidak ditemukan")}catch(t){throw u.value="Gagal menghapus post",t}finally{r.value=!1}},uploadImage:async e=>{try{r.value=!0,await new Promise(a=>setTimeout(a,2e3));const t={id:Date.now(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return s.value.unshift(t),t}catch(t){throw u.value="Gagal mengupload gambar",t}finally{r.value=!1}},updateImage:async(e,t)=>{try{r.value=!0,await new Promise(o=>setTimeout(o,1e3));const a=s.value.findIndex(o=>o.id===e);if(a>-1)return s.value[a]={...s.value[a],...t,updated_at:new Date().toISOString()},s.value[a];throw new Error("Gambar tidak ditemukan")}catch(a){throw u.value="Gagal memperbarui gambar",a}finally{r.value=!1}},deleteImage:async e=>{try{r.value=!0,await new Promise(a=>setTimeout(a,1e3));const t=s.value.findIndex(a=>a.id===e);if(t>-1)return s.value.splice(t,1),!0;throw new Error("Gambar tidak ditemukan")}catch(t){throw u.value="Gagal menghapus gambar",t}finally{r.value=!1}}}}),b={class:"rounded-lg border border-border bg-card text-card-foreground shadow-sm"},O={__name:"Card",setup(n){return(i,l)=>(g(),m("div",b,[p(i.$slots,"default")]))}},y={class:"p-6 pt-0"},A={__name:"CardContent",setup(n){return(i,l)=>(g(),m("div",y,[p(i.$slots,"default")]))}};export{A as _,O as a,G as u};
