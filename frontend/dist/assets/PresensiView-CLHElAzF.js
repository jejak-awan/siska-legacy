import{p as k,q as A,a as N,B as O,e as J,c as p,s as b,o as d,f as e,v as te,t as i,x,j as M,z as V,F as E,k as B,y,l as Q,E as w,_ as se,b as ae,g as T,d as K,m as oe,C as R}from"./index-Bo0LgBjO.js";import{_ as P}from"./StatCard-DANgeAvW.js";const le={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},re={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ne={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},ie={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},de={class:"flex items-center justify-between mb-4"},ue={class:"text-lg font-medium text-gray-900"},pe={class:"space-y-4"},ce=["disabled"],me=["value"],ge={key:0,class:"mt-1 text-sm text-red-600"},be={key:0,class:"mt-1 text-sm text-red-600"},xe={class:"grid grid-cols-2 gap-4"},fe={key:0,class:"mt-1 text-sm text-red-600"},ve={key:0,class:"mt-1 text-sm text-red-600"},ye={key:0,class:"mt-1 text-sm text-red-600"},_e={class:"grid grid-cols-2 gap-4"},ke={key:0,class:"mt-1 text-sm text-red-600"},he={key:0,class:"mt-1 text-sm text-red-600"},we={key:0,class:"mt-1 text-sm text-red-600"},je={key:0,class:"mt-1 text-sm text-red-600"},$e=["value"],Ce={key:0,class:"mt-1 text-sm text-red-600"},Ve={key:0,class:"mt-1 text-sm text-red-600"},Se={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ue=["disabled"],Me={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Te={__name:"PresensiFormModal",props:{show:{type:Boolean,default:!1},presensi:{type:Object,default:null}},emits:["close","saved"],setup(q,{emit:z}){const c=q,j=z,_=k(!1),h=k([]),r=k({}),n=A({user_id:"",tanggal:"",jam_masuk:"",jam_keluar:"",status:"",lokasi_lat:"",lokasi_lng:"",qr_code:"",foto_absen:"",divalidasi_oleh:"",keterangan:""}),g=N(()=>!!c.presensi),m=async()=>{try{const v=await w.get("/users");h.value=v.data.data.data}catch(v){console.error("Error loading users:",v)}},D=()=>{Object.assign(n,{user_id:"",tanggal:"",jam_masuk:"",jam_keluar:"",status:"",lokasi_lat:"",lokasi_lng:"",qr_code:"",foto_absen:"",divalidasi_oleh:"",keterangan:""}),r.value={}},f=()=>{c.presensi&&Object.assign(n,{user_id:c.presensi.user_id||"",tanggal:c.presensi.tanggal||"",jam_masuk:c.presensi.jam_masuk||"",jam_keluar:c.presensi.jam_keluar||"",status:c.presensi.status||"",lokasi_lat:c.presensi.lokasi_lat||"",lokasi_lng:c.presensi.lokasi_lng||"",qr_code:c.presensi.qr_code||"",foto_absen:c.presensi.foto_absen||"",divalidasi_oleh:c.presensi.divalidasi_oleh||"",keterangan:c.presensi.keterangan||""})},C=async()=>{var v;_.value=!0,r.value={};try{const t={...n};Object.keys(t).forEach(l=>{t[l]===""&&(t[l]=null)}),g.value?await w.put(`/presensi/${c.presensi.id}`,t):await w.post("/presensi",t),j("saved")}catch(t){((v=t.response)==null?void 0:v.status)===422?r.value=t.response.data.errors:console.error("Error saving presensi:",t)}finally{_.value=!1}},$=()=>{D(),j("close")};return O(()=>c.show,v=>{v&&f()}),O(()=>c.presensi,()=>{c.show&&f()}),J(()=>{m()}),(v,t)=>q.show?(d(),p("div",le,[e("div",re,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:$}),e("div",ne,[e("form",{onSubmit:te(C,["prevent"])},[e("div",ie,[e("div",de,[e("h3",ue,i(g.value?"Edit Presensi":"Tambah Presensi"),1),e("button",{type:"button",onClick:$,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...t[11]||(t[11]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",pe,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[M(" User "),e("span",{class:"text-red-500"},"*")],-1)),x(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>n.user_id=l),disabled:g.value,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},[t[12]||(t[12]=e("option",{value:""},"Pilih User",-1)),(d(!0),p(E,null,B(h.value,l=>(d(),p("option",{key:l.id,value:l.id},i(l.username)+" ("+i(l.email)+") ",9,me))),128))],8,ce),[[V,n.user_id]]),r.value.user_id?(d(),p("p",ge,i(r.value.user_id[0]),1)):b("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[M(" Tanggal "),e("span",{class:"text-red-500"},"*")],-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>n.tanggal=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[y,n.tanggal]]),r.value.tanggal?(d(),p("p",be,i(r.value.tanggal[0]),1)):b("",!0)]),e("div",xe,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Jam Masuk",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>n.jam_masuk=l),type:"time",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[y,n.jam_masuk]]),r.value.jam_masuk?(d(),p("p",fe,i(r.value.jam_masuk[0]),1)):b("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Jam Keluar",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>n.jam_keluar=l),type:"time",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[y,n.jam_keluar]]),r.value.jam_keluar?(d(),p("p",ve,i(r.value.jam_keluar[0]),1)):b("",!0)])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[M(" Status "),e("span",{class:"text-red-500"},"*")],-1)),x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>n.status=l),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},[...t[17]||(t[17]=[Q('<option value="">Pilih Status</option><option value="hadir">Hadir</option><option value="terlambat">Terlambat</option><option value="sakit">Sakit</option><option value="izin">Izin</option><option value="alpha">Alpha</option>',6)])],512),[[V,n.status]]),r.value.status?(d(),p("p",ye,i(r.value.status[0]),1)):b("",!0)]),e("div",_e,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Latitude",-1)),x(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>n.lokasi_lat=l),type:"number",step:"any",placeholder:"Contoh: -6.2088",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[y,n.lokasi_lat]]),r.value.lokasi_lat?(d(),p("p",ke,i(r.value.lokasi_lat[0]),1)):b("",!0)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Longitude",-1)),x(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>n.lokasi_lng=l),type:"number",step:"any",placeholder:"Contoh: 106.8456",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[y,n.lokasi_lng]]),r.value.lokasi_lng?(d(),p("p",he,i(r.value.lokasi_lng[0]),1)):b("",!0)])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"QR Code",-1)),x(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>n.qr_code=l),type:"text",placeholder:"Kode QR presensi",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[y,n.qr_code]]),r.value.qr_code?(d(),p("p",we,i(r.value.qr_code[0]),1)):b("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Foto Absen",-1)),x(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>n.foto_absen=l),type:"text",placeholder:"Path foto absen",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[y,n.foto_absen]]),r.value.foto_absen?(d(),p("p",je,i(r.value.foto_absen[0]),1)):b("",!0)]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Validator",-1)),x(e("select",{"onUpdate:modelValue":t[9]||(t[9]=l=>n.divalidasi_oleh=l),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[t[23]||(t[23]=e("option",{value:""},"Pilih Validator",-1)),(d(!0),p(E,null,B(h.value,l=>(d(),p("option",{key:l.id,value:l.id},i(l.username)+" ("+i(l.email)+") ",9,$e))),128))],512),[[V,n.divalidasi_oleh]]),r.value.divalidasi_oleh?(d(),p("p",Ce,i(r.value.divalidasi_oleh[0]),1)):b("",!0)]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Keterangan",-1)),x(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=l=>n.keterangan=l),rows:"3",placeholder:"Keterangan tambahan...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[y,n.keterangan]]),r.value.keterangan?(d(),p("p",Ve,i(r.value.keterangan[0]),1)):b("",!0)])])]),e("div",Se,[e("button",{type:"submit",disabled:_.value,class:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[_.value?(d(),p("span",Me)):b("",!0),M(" "+i(g.value?"Update":"Simpan"),1)],8,Ue),e("button",{type:"button",onClick:$,class:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Batal ")])],32)])])])):b("",!0)}},Pe={class:"presensi-view"},Ee={class:"mb-6"},Be={class:"flex items-center justify-between"},qe={class:"flex space-x-3"},ze={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},De={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},Ae={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Fe={class:"bg-white rounded-lg shadow-sm border border-gray-200"},He={class:"p-6"},Le={class:"flex items-center justify-between mb-4"},Ie={class:"flex items-center space-x-2"},Oe={class:"text-sm text-gray-500"},Ke={key:0,class:"flex justify-center py-8"},Re={key:1,class:"overflow-x-auto"},Ne={class:"min-w-full divide-y divide-gray-200"},Je={class:"bg-white divide-y divide-gray-200"},Qe={class:"px-6 py-4 whitespace-nowrap"},Ge={class:"flex items-center"},We={class:"flex-shrink-0 h-10 w-10"},Xe={class:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center"},Ye={class:"text-sm font-medium text-gray-700"},Ze={class:"ml-4"},et={class:"text-sm font-medium text-gray-900"},tt={class:"text-sm text-gray-500"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},lt={class:"px-6 py-4 whitespace-nowrap"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},it={class:"flex space-x-2"},dt=["onClick"],ut=["onClick"],pt=["onClick"],ct={key:0,class:"text-center py-8"},mt={key:2,class:"mt-6 flex items-center justify-between"},gt={class:"text-sm text-gray-700"},bt={class:"flex space-x-2"},xt=["disabled"],ft=["onClick"],vt=["disabled"],yt={__name:"PresensiView",setup(q){oe();const z=(o,s)=>{let a;return function(...S){const U=()=>{clearTimeout(a),o(...S)};clearTimeout(a),a=setTimeout(U,s)}},c=k(!1),j=k([]),_=k({}),h=k(!1),r=k(!1),n=k(null),g=A({search:"",start_date:"",end_date:"",status:""}),m=A({current_page:1,last_page:1,per_page:15,total:0,from:0,to:0}),D=N(()=>{const o=[],s=m.current_page,a=m.last_page;if(a<=7)for(let u=1;u<=a;u++)o.push(u);else if(s<=4){for(let u=1;u<=5;u++)o.push(u);o.push("..."),o.push(a)}else if(s>=a-3){o.push(1),o.push("...");for(let u=a-4;u<=a;u++)o.push(u)}else{o.push(1),o.push("...");for(let u=s-1;u<=s+1;u++)o.push(u);o.push("..."),o.push(a)}return o}),f=async(o=1)=>{c.value=!0;try{const s={page:o,per_page:m.per_page,...g},a=await w.get("/presensi",{params:s});j.value=a.data.data.data,Object.assign(m,a.data.data)}catch(s){console.error("Error loading presensi data:",s)}finally{c.value=!1}},C=async()=>{try{const o=await w.get("/presensi-statistics");_.value=o.data.data}catch(o){console.error("Error loading statistics:",o)}},$=z(()=>{f(1)},500),v=()=>{Object.assign(g,{search:"",start_date:"",end_date:"",status:""}),f(1)},t=o=>{n.value=o,r.value=!0},l=o=>{n.value=o,r.value=!0},G=async o=>{if(confirm("Apakah Anda yakin ingin menghapus data presensi ini?"))try{await w.delete(`/presensi/${o}`),await f(m.current_page),await C()}catch(s){console.error("Error deleting presensi:",s)}},W=async()=>{try{const o={...g},s=await w.post("/presensi/export",o,{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([s.data])),u=document.createElement("a");u.href=a,u.setAttribute("download",`presensi-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(u),u.click(),u.remove()}catch(o){console.error("Error exporting data:",o)}},F=()=>{h.value=!1,r.value=!1,n.value=null},X=()=>{F(),f(m.current_page),C()},Y=o=>new Date(o).toLocaleDateString("id-ID"),Z=o=>({hadir:"Hadir",terlambat:"Terlambat",sakit:"Sakit",izin:"Izin",alpha:"Alpha"})[o]||o,ee=o=>({hadir:"bg-green-100 text-green-800",terlambat:"bg-yellow-100 text-yellow-800",sakit:"bg-blue-100 text-blue-800",izin:"bg-orange-100 text-orange-800",alpha:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800";return J(()=>{f(),C()}),(o,s)=>(d(),p("div",Pe,[e("div",Ee,[e("div",Be,[s[11]||(s[11]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Manajemen Presensi"),e("p",{class:"text-gray-600 mt-1"},"Kelola data kehadiran siswa dan guru")],-1)),e("div",qe,[e("button",{onClick:s[0]||(s[0]=a=>h.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors"},[...s[9]||(s[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",null,"Tambah Presensi",-1)])]),e("button",{onClick:W,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors"},[...s[10]||(s[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("span",null,"Export",-1)])])])])]),e("div",ze,[T(P,{title:"Total Presensi Hari Ini",value:_.value.today||0,icon:"calendar-days",color:"blue"},null,8,["value"]),T(P,{title:"Hadir",value:_.value.hadir_today||0,icon:"check-circle",color:"green"},null,8,["value"]),T(P,{title:"Terlambat",value:_.value.terlambat_today||0,icon:"clock",color:"yellow"},null,8,["value"]),T(P,{title:"Alpha",value:_.value.alpha_today||0,icon:"x-circle",color:"red"},null,8,["value"])]),e("div",De,[e("div",Ae,[e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari",-1)),x(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>g.search=a),type:"text",placeholder:"Cari nama user...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onInput:s[2]||(s[2]=(...a)=>K($)&&K($)(...a))},null,544),[[y,g.search]])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tanggal Mulai",-1)),x(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>g.start_date=a),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:f},null,544),[[y,g.start_date]])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tanggal Selesai",-1)),x(e("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>g.end_date=a),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:f},null,544),[[y,g.end_date]])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),x(e("select",{"onUpdate:modelValue":s[5]||(s[5]=a=>g.status=a),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:f},[...s[15]||(s[15]=[Q('<option value="" data-v-fcb27765>Semua Status</option><option value="hadir" data-v-fcb27765>Hadir</option><option value="terlambat" data-v-fcb27765>Terlambat</option><option value="sakit" data-v-fcb27765>Sakit</option><option value="izin" data-v-fcb27765>Izin</option><option value="alpha" data-v-fcb27765>Alpha</option>',6)])],544),[[V,g.status]])])]),e("div",{class:"flex justify-end mt-4"},[e("button",{onClick:v,class:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors"}," Reset Filter ")])]),e("div",Fe,[e("div",He,[e("div",Le,[s[18]||(s[18]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Data Presensi",-1)),e("div",Ie,[e("span",Oe,"Total: "+i(m.total),1),x(e("select",{"onUpdate:modelValue":s[6]||(s[6]=a=>m.per_page=a),onChange:f,class:"px-3 py-1 border border-gray-300 rounded text-sm"},[...s[17]||(s[17]=[e("option",{value:"10"},"10 per halaman",-1),e("option",{value:"25"},"25 per halaman",-1),e("option",{value:"50"},"50 per halaman",-1)])],544),[[V,m.per_page]])])]),c.value?(d(),p("div",Ke,[...s[19]||(s[19]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(d(),p("div",Re,[e("table",Ne,[s[20]||(s[20]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tanggal "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Jam Masuk "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Jam Keluar "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Validator "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Aksi ")])],-1)),e("tbody",Je,[(d(!0),p(E,null,B(j.value,a=>{var u,S,U,H,L;return d(),p("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",Qe,[e("div",Ge,[e("div",We,[e("div",Xe,[e("span",Ye,i((S=(u=a.user)==null?void 0:u.username)==null?void 0:S.charAt(0).toUpperCase()),1)])]),e("div",Ze,[e("div",et,i((U=a.user)==null?void 0:U.username),1),e("div",tt,i((H=a.user)==null?void 0:H.email),1)])])]),e("td",st,i(Y(a.tanggal)),1),e("td",at,i(a.jam_masuk||"-"),1),e("td",ot,i(a.jam_keluar||"-"),1),e("td",lt,[e("span",{class:R([ee(a.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},i(Z(a.status)),3)]),e("td",rt,i(((L=a.validator)==null?void 0:L.username)||"-"),1),e("td",nt,[e("div",it,[e("button",{onClick:I=>t(a),class:"text-blue-600 hover:text-blue-900 transition-colors"}," Lihat ",8,dt),e("button",{onClick:I=>l(a),class:"text-green-600 hover:text-green-900 transition-colors"}," Edit ",8,ut),e("button",{onClick:I=>G(a.id),class:"text-red-600 hover:text-red-900 transition-colors"}," Hapus ",8,pt)])])])}),128))])]),j.value.length===0?(d(),p("div",ct,[...s[21]||(s[21]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tidak ada data presensi",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Mulai dengan menambahkan data presensi baru.",-1)])])):b("",!0)])),m.last_page>1?(d(),p("div",mt,[e("div",gt," Menampilkan "+i(m.from)+" sampai "+i(m.to)+" dari "+i(m.total)+" data ",1),e("div",bt,[e("button",{onClick:s[7]||(s[7]=a=>f(m.current_page-1)),disabled:m.current_page===1,class:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"}," Sebelumnya ",8,xt),(d(!0),p(E,null,B(D.value,a=>(d(),p("button",{key:a,onClick:u=>f(a),class:R(["px-3 py-1 border rounded text-sm",a===m.current_page?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"])},i(a),11,ft))),128)),e("button",{onClick:s[8]||(s[8]=a=>f(m.current_page+1)),disabled:m.current_page===m.last_page,class:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"}," Selanjutnya ",8,vt)])])):b("",!0)])]),h.value||r.value?(d(),ae(Te,{key:0,show:h.value||r.value,presensi:n.value,onClose:F,onSaved:X},null,8,["show","presensi"])):b("",!0)]))}},ht=se(yt,[["__scopeId","data-v-fcb27765"]]);export{ht as default};
