import{G as z,q as C,p as _,c as u,o as p,f as s,d as o,v as P,s as h,x as c,y as m,t as r,j as S,l as k}from"./index-Bo0LgBjO.js";const B={class:"py-6"},D={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},U={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},A={class:"lg:col-span-2 space-y-6"},M={class:"card p-6"},E={class:"space-y-4"},N={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},T=["value"],q=["value"],H={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},I=["value"],K=["value"],F={class:"card p-6"},R={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},L={key:0,class:"form-error"},O={class:"flex justify-end"},G=["disabled"],J={key:0,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},Q={class:"space-y-6"},W={class:"card p-6 text-center"},X={class:"mx-auto h-24 w-24 rounded-full bg-gray-200 flex items-center justify-center mb-4"},Y={class:"text-2xl font-bold text-gray-600"},Z={class:"text-lg font-medium text-gray-900"},$={class:"text-sm text-gray-500 capitalize"},ss={class:"card p-6"},ts={class:"space-y-3"},es={class:"flex justify-between text-sm"},as={class:"font-medium"},ns={__name:"ProfileView",setup(ls){const a=z(),e=C({current_password:"",new_password:"",new_password_confirmation:""}),i=_(!1),n=_(""),j=async()=>{try{if(i.value=!0,n.value="",e.new_password!==e.new_password_confirmation){n.value="Konfirmasi password tidak cocok";return}const l=await a.changePassword({current_password:e.current_password,new_password:e.new_password,new_password_confirmation:e.new_password_confirmation});l.success?(Object.keys(e).forEach(t=>{e[t]=""}),alert("Password berhasil diubah!")):n.value=l.error}catch(l){n.value="Terjadi kesalahan saat mengubah password",console.error("Change password error:",l)}finally{i.value=!1}},V=l=>l?new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(l)):"-";return(l,t)=>{var f,v,w,b,x,g,y;return p(),u("div",B,[s("div",D,[t[18]||(t[18]=s("div",{class:"mb-8"},[s("h1",{class:"text-2xl font-bold text-gray-900"},"Profil Saya"),s("p",{class:"mt-1 text-sm text-gray-500"}," Kelola informasi profil dan pengaturan akun Anda ")],-1)),s("div",U,[s("div",A,[s("div",M,[t[7]||(t[7]=s("div",{class:"flex items-center justify-between mb-6"},[s("h3",{class:"text-lg font-medium text-gray-900"},"Informasi Dasar"),s("button",{class:"btn btn-outline btn-sm"},"Edit")],-1)),s("div",E,[s("div",N,[s("div",null,[t[3]||(t[3]=s("label",{class:"form-label"},"Username",-1)),s("input",{type:"text",value:(f=o(a).user)==null?void 0:f.username,class:"form-input",disabled:""},null,8,T)]),s("div",null,[t[4]||(t[4]=s("label",{class:"form-label"},"Email",-1)),s("input",{type:"email",value:(v=o(a).user)==null?void 0:v.email,class:"form-input",disabled:""},null,8,q)])]),s("div",H,[s("div",null,[t[5]||(t[5]=s("label",{class:"form-label"},"Role",-1)),s("input",{type:"text",value:o(a).userRole,class:"form-input capitalize",disabled:""},null,8,I)]),s("div",null,[t[6]||(t[6]=s("label",{class:"form-label"},"Status",-1)),s("input",{type:"text",value:(w=o(a).user)==null?void 0:w.status,class:"form-input capitalize",disabled:""},null,8,K)])])])]),s("div",F,[t[12]||(t[12]=s("h3",{class:"text-lg font-medium text-gray-900 mb-6"},"Ubah Password",-1)),s("form",{onSubmit:P(j,["prevent"]),class:"space-y-4"},[s("div",null,[t[8]||(t[8]=s("label",{class:"form-label"},"Password Saat Ini",-1)),c(s("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>e.current_password=d),type:"password",class:"form-input",required:""},null,512),[[m,e.current_password]])]),s("div",R,[s("div",null,[t[9]||(t[9]=s("label",{class:"form-label"},"Password Baru",-1)),c(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.new_password=d),type:"password",class:"form-input",required:""},null,512),[[m,e.new_password]])]),s("div",null,[t[10]||(t[10]=s("label",{class:"form-label"},"Konfirmasi Password",-1)),c(s("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>e.new_password_confirmation=d),type:"password",class:"form-input",required:""},null,512),[[m,e.new_password_confirmation]])])]),n.value?(p(),u("div",L,r(n.value),1)):h("",!0),s("div",O,[s("button",{type:"submit",class:"btn btn-primary",disabled:i.value},[i.value?(p(),u("svg",J,[...t[11]||(t[11]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):h("",!0),S(" "+r(i.value?"Menyimpan...":"Ubah Password"),1)],8,G)])],32)])]),s("div",Q,[s("div",W,[s("div",X,[s("span",Y,r((((b=o(a).user)==null?void 0:b.username)||"U").charAt(0).toUpperCase()),1)]),s("h3",Z,r((x=o(a).user)==null?void 0:x.username),1),s("p",$,r((g=o(a).userRole)==null?void 0:g.replace("_"," ")),1),t[13]||(t[13]=s("button",{class:"btn btn-outline btn-sm mt-4"},"Ubah Foto",-1))]),s("div",ss,[t[16]||(t[16]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Statistik",-1)),s("div",ts,[s("div",es,[t[14]||(t[14]=s("span",{class:"text-gray-600"},"Bergabung",-1)),s("span",as,r(V((y=o(a).user)==null?void 0:y.created_at)),1)]),t[15]||(t[15]=k('<div class="flex justify-between text-sm"><span class="text-gray-600">Login Terakhir</span><span class="font-medium">Hari ini</span></div><div class="flex justify-between text-sm"><span class="text-gray-600">Status</span><span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"> Online </span></div>',2))])]),t[17]||(t[17]=k('<div class="card p-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Aksi Akun</h3><div class="space-y-3"><button class="w-full btn btn-outline text-left"><svg class="inline h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg> Keamanan Akun </button><button class="w-full btn btn-outline text-left"><svg class="inline h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zm-5-5l5 5H9v-5zm0 0V7a3 3 0 116 0v5l-6 5z"></path></svg> Notifikasi </button><button class="w-full btn btn-outline text-left"><svg class="inline h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg> Download Data </button></div></div>',1))])])])])}}};export{ns as default};
